<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ecommerce Product Page</title>
    <link rel="stylesheet" href="./css/style.css" />
  </head>
  <body>
    <div id="menu-container" class="visible">
      <div>
        <nav>
          <div id="close-menu">
            <svg width="14" height="15" xmlns="http://www.w3.org/2000/svg">
              <path
                d="m11.596.782 2.122 2.122L9.12 7.499l4.597 4.597-2.122 2.122L7 9.62l-4.595 4.597-2.122-2.122L4.878 7.5.282 2.904 2.404.782l4.595 4.596L11.596.782Z"
              />
            </svg>
          </div>
          <ul>
            <li>Collections</li>
            <li>Men</li>
            <li>Women</li>
            <li>About</li>
            <li>Contact</li>
          </ul>
        </nav>
      </div>
    </div>
    <div id="lightbox-container">
      <div>
        <div>
          <img src="./images/icon-next.svg" alt="" />
        </div>
        <div><img src="./images/icon-previous.svg" alt="" /></div>
        <div>
          <div id="main-img">
            <div>
              <svg width="14" height="15" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="m11.596.782 2.122 2.122L9.12 7.499l4.597 4.597-2.122 2.122L7 9.62l-4.595 4.597-2.122-2.122L4.878 7.5.282 2.904 2.404.782l4.595 4.596L11.596.782Z"
                />
              </svg>
            </div>

            <div><img src="./images/image-product-1.jpg" alt="" /></div>
          </div>
          <div id="thumb-imgs">
            <ul>
              <li class="active">
                <img
                  class="active"
                  src="./images/image-product-1-thumbnail.jpg"
                  alt=""
                />
              </li>
              <li>
                <img src="./images/image-product-2-thumbnail.jpg" alt="" />
              </li>
              <li>
                <img src="./images/image-product-3-thumbnail.jpg" alt="" />
              </li>
              <li>
                <img src="./images/image-product-4-thumbnail.jpg" alt="" />
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <header>
      <div id="cart-container" class="visible">
        <div>
          <h4>Cart</h4>
        </div>
        <div id="cart-content">
          <div id="cart-empty">
            <h4>Your cart is empty.</h4>
          </div>
          <div id="cart-cmd">
            <div>
              <img src="./images/image-product-1-thumbnail.jpg" alt="" />
              <div>
                <p>Fall Limited Edition Sneakers</p>
                <p>$125.00 x <span>3</span> <b id="total"></b></p>
              </div>
              <div>
                <img id="delete" src="./images/icon-delete.svg" alt="" />
              </div>
            </div>
            <div>
              <button>Checkout</button>
            </div>
          </div>
        </div>
      </div>
      <nav>
        <div>
          <div>
            <img id="menu" src="./images/icon-menu.svg" alt="" />
          </div>
          <div>
            <img src="./images/logo.svg" alt="" />
          </div>

          <ul>
            <li><a>Collections</a></li>
            <li><a>Men</a></li>
            <li><a>Women</a></li>
            <li><a>About</a></li>
            <li><a>Contact</a></li>
          </ul>
        </div>

        <div>
          <div id="cart">
            <div id="counter" class="visible">3</div>

            <svg width="22" height="20" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M20.925 3.641H3.863L3.61.816A.896.896 0 0 0 2.717 0H.897a.896.896 0 1 0 0 1.792h1l1.031 11.483c.073.828.52 1.726 1.291 2.336C2.83 17.385 4.099 20 6.359 20c1.875 0 3.197-1.87 2.554-3.642h4.905c-.642 1.77.677 3.642 2.555 3.642a2.72 2.72 0 0 0 2.717-2.717 2.72 2.72 0 0 0-2.717-2.717H6.365c-.681 0-1.274-.41-1.53-1.009l14.321-.842a.896.896 0 0 0 .817-.677l1.821-7.283a.897.897 0 0 0-.87-1.114ZM6.358 18.208a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm10.015 0a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm2.021-7.243-13.8.81-.57-6.341h15.753l-1.383 5.53Z"
              />
            </svg>
          </div>
          <div>
            <img id="avatar" src="./images/image-avatar.png" alt="" />
          </div>
        </div>
      </nav>
    </header>

    <main>
      <section id="section-img">
        <div class="slider">
          <div>
            <img src="./images/image-product-1.jpg" alt="" />
            <div>
              <img src="./images/icon-next.svg" alt="" />
            </div>
            <div><img src="./images/icon-previous.svg" alt="" /></div>
          </div>
        </div>
        <div>
          <ul>
            <li class="active">
              <img
                src="./images/image-product-1-thumbnail.jpg"
                class="active"
                alt=""
              />
            </li>
            <li><img src="./images/image-product-2-thumbnail.jpg" alt="" /></li>
            <li><img src="./images/image-product-3-thumbnail.jpg" alt="" /></li>
            <li><img src="./images/image-product-4-thumbnail.jpg" alt="" /></li>
          </ul>
        </div>
      </section>

      <section id="section-description">
        <div>
          <p>SNEAKER COMPANY</p>
          <h2>Fall Limited Edition Sneakers</h2>
        </div>
        <div>
          <p>
            These low-profile sneakers are your perfect casual wear companion.
            Featuring a durable outer sole, they'll withstand everything the
            weather can offer.
          </p>
        </div>
        <div>
          <div>
            <h3>$125.00</h3>
            <h4>50%</h4>
          </div>
          <h4>$250.00</h4>
        </div>
        <div>
          <div id="btn-count">
            <img id="decrease" src="./images/icon-minus.svg" alt="" />
            <h4 id="qte">0</h4>
            <img id="increase" src="./images/icon-plus.svg" alt="" />
          </div>
          <div id="btn-add">
            <svg width="22" height="20" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M20.925 3.641H3.863L3.61.816A.896.896 0 0 0 2.717 0H.897a.896.896 0 1 0 0 1.792h1l1.031 11.483c.073.828.52 1.726 1.291 2.336C2.83 17.385 4.099 20 6.359 20c1.875 0 3.197-1.87 2.554-3.642h4.905c-.642 1.77.677 3.642 2.555 3.642a2.72 2.72 0 0 0 2.717-2.717 2.72 2.72 0 0 0-2.717-2.717H6.365c-.681 0-1.274-.41-1.53-1.009l14.321-.842a.896.896 0 0 0 .817-.677l1.821-7.283a.897.897 0 0 0-.87-1.114ZM6.358 18.208a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm10.015 0a.926.926 0 0 1 0-1.85.926.926 0 0 1 0 1.85Zm2.021-7.243-13.8.81-.57-6.341h15.753l-1.383 5.53Z"
              />
            </svg>
            <p>Add to cart</p>
          </div>
        </div>
      </section>
    </main>

    <script>
      const cartContainer = document.querySelector("#cart-container");
      const cart = document.querySelector("#cart");

      const increase = document.querySelector("#increase");
      const decrease = document.querySelector("#decrease");
      const qte = document.querySelector("#qte");

      const cartEmpty = document.querySelector("#cart-empty");

      const cartCmd = document.querySelector("#cart-cmd");
      const cmdQte = document.querySelector("#cart-cmd span");
      const addToCard = document.querySelector("#btn-add");
      const counter = document.querySelector("#counter");
      const cmdTotal = document.querySelector("#total");
      const btnDelete = document.querySelector("#delete");

      const thumbImgs = document.querySelectorAll(
        "#section-img > :nth-of-type(2) li img"
      );

      const fullImg = document.querySelector(".slider > :nth-of-type(1) img");
      const lightboxFullImg = document.querySelector(
        "#lightbox-container #main-img > :nth-child(2) img"
      );

      const next = document.querySelector(
        "#lightbox-container > div > div:nth-child(1)"
      );
      const previous = document.querySelector(
        "#lightbox-container > div > div:nth-child(2)"
      );

      const lightbox = document.querySelector("#lightbox-container");
      const btnClose = document.querySelector("#main-img > :nth-of-type(1)");
      const lightboxThumbImgs = document.querySelectorAll("#thumb-imgs img");

      const menu = document.querySelector("#menu");
      const closeMenu = document.querySelector("#close-menu");
      const menuContainer = document.querySelector("#menu-container");

      const nextMobile = document.querySelector(
        "#section-img >  div:nth-child(1) > div > :nth-child(2)"
      );
      const prevMobile = document.querySelector(
        "#section-img >  div:nth-child(1) > div > :nth-child(3)"
      );

      let num = 0;
      let total = 0;

      let imageCounter = 1;

      nextMobile.addEventListener("click", () => {
        imageCounter++;
        if (imageCounter > thumbImgs.length) {
          imageCounter = 1;
        }
        thumbImgs.forEach((img) => {
          img.classList.remove("active");
          img.parentElement.classList.remove("active");
        });
        thumbImgs[imageCounter - 1].classList.add("active");
        thumbImgs[imageCounter - 1].parentElement.classList.add("active");
        fullImg.src = `./images/image-product-${imageCounter}.jpg`;
      });

      prevMobile.addEventListener("click", () => {
        imageCounter--;
        if (imageCounter < 1) {
          imageCounter = thumbImgs.length;
        }
        thumbImgs.forEach((img) => {
          img.classList.remove("active");
          img.parentElement.classList.remove("active");
        });
        thumbImgs[imageCounter - 1].classList.add("active");
        thumbImgs[imageCounter - 1].parentElement.classList.add("active");
        fullImg.src = `./images/image-product-${imageCounter}.jpg`;
      });

      menu.addEventListener("click", () => {
        menuContainer.classList.remove("visible");
      });

      closeMenu.addEventListener("click", () => {
        menuContainer.classList.add("visible");
      });

      menuContainer.addEventListener("click", () => {
        menuContainer.classList.add("visible");
      });

      fullImg.parentElement.addEventListener("click", () => {
        let maxWidth = window.screen.availWidth;
        console.log(maxWidth);
        if (maxWidth <= 550) {
          lightbox.style.display = "none";
        } else {
          lightbox.style.display = "flex";
        }
      });

      btnClose.addEventListener("click", () => {
        lightbox.style.display = "none";
      });

      lightboxThumbImgs.forEach((elem) => {
        elem.addEventListener("click", (e) => {
          lightboxThumbImgs.forEach((img) => {
            img.classList.remove("active");
            img.parentElement.classList.remove("active");
          });

          e.target.classList.add("active");
          e.target.parentElement.classList.add("active");
          lightboxFullImg.src = e.target.src.replace("-thumbnail", "");
        });
      });
      next.addEventListener("click", () => {
        imageCounter++;
        if (imageCounter > lightboxThumbImgs.length) {
          imageCounter = 1;
        }
        lightboxThumbImgs.forEach((img) => {
          img.classList.remove("active");
          img.parentElement.classList.remove("active");
        });
        lightboxThumbImgs[imageCounter - 1].classList.add("active");
        lightboxThumbImgs[imageCounter - 1].parentElement.classList.add(
          "active"
        );
        lightboxFullImg.src = `./images/image-product-${imageCounter}.jpg`;
        console.log(imageCounter);
      });

      previous.addEventListener("click", () => {
        imageCounter--;
        if (imageCounter < 1) {
          imageCounter = lightboxThumbImgs.length;
        }
        lightboxThumbImgs.forEach((img) => {
          img.classList.remove("active");
          img.parentElement.classList.remove("active");
        });
        lightboxThumbImgs[imageCounter - 1].classList.add("active");
        lightboxThumbImgs[imageCounter - 1].parentElement.classList.add(
          "active"
        );
        lightboxFullImg.src = `./images/image-product-${imageCounter}.jpg`;
        console.log(imageCounter);
      });

      thumbImgs.forEach((elem) => {
        elem.addEventListener("click", (e) => {
          thumbImgs.forEach((img) => {
            img.classList.remove("active");
            img.parentElement.classList.remove("active");
          });

          e.target.classList.add("active");
          e.target.parentElement.classList.add("active");
          fullImg.src = e.target.src.replace("-thumbnail", "");
        });
      });

      addToCard.addEventListener("click", () => {
        if (num != 0) {
          cartEmpty.classList.add("visible");
          cartCmd.style.display = "flex";
          counter.style.display = "flex";
          cmdQte.innerText = num;
          counter.innerText = num;
          total = 125 * num;
          cmdTotal.innerText = `$${total.toFixed(2)}`;
        }
      });

      cart.addEventListener("click", () => {
        cartContainer.classList.toggle("visible");
      });

      increase.addEventListener("click", () => {
        num++;
        qte.innerText = num;
      });

      decrease.addEventListener("click", () => {
        num <= 0 ? 0 : num--;
        qte.innerText = num;
      });

      btnDelete.addEventListener("click", () => {
        cartEmpty.classList.remove("visible");
        cartCmd.style.display = "none";
        counter.style.display = "none";
      });
    </script>
  </body>
</html>
